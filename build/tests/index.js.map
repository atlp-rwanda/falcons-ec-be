{"version":3,"file":"index.js","names":["_chai","_interopRequireDefault","require","_chaiHttp","_server","_index","_bcrypt","_supertest","expect","chai","should","use","chaiHttp","describe","before","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","db","sequelize","sync","force","stop","it","_callee2","res","_callee2$","_context2","request","app","get","sent","to","have","status","body","message","equal","_callee3","response","_callee3$","_context3","_callee4","_callee4$","_context4","be","an"],"sources":["../../src/tests/index.js"],"sourcesContent":["import chai from \"chai\";\r\nimport chaiHttp from \"chai-http\";\r\nimport app from \"../server.js\";\r\nimport db from \"../database/models/index\";\r\nimport bcrypt from \"bcrypt\";\r\nimport request from 'supertest';\r\n\r\nconst expect = chai.expect;\r\nchai.should();\r\n\r\nchai.use(chaiHttp);\r\n\r\ndescribe(\"Welcome Controller\", () => {\r\n  before(async () => {\r\n    // run migrations and seeders to prepare the database\r\n    await db.sequelize.sync({ force: true });\r\n  });\r\n\r\n  describe(\"GET /welcome\", () => {\r\n    it(\"should return a 200 response and a welcome message\", async () => {\r\n      const res = await chai.request(app).get(\"/welcome\");\r\n      expect(res).to.have.status(200);\r\n      expect(res.body.message).to.equal(\"Test controller OK\");\r\n    });\r\n  });\r\n});\r\n\r\n  describe('Routes', () => {\r\n    describe('GET /users', () => {\r\n      it('should respond with status code 200', async () => {\r\n        const response = await request(app).get('/users');\r\n        expect(response.status).to.equal(200);\r\n      });\r\n  \r\n      it('should respond with an array of users', async () => {\r\n        const response = await request(app).get('/users');\r\n        expect(response.body).to.be.an('array');\r\n      });\r\n    });\r\n  });"],"mappings":"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"}