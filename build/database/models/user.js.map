{"version":3,"file":"user.js","names":["bcrypt","require","_require","uuidv4","v4","_require2","Model","module","exports","sequelize","DataTypes","User","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","hasMany","Product","foreignKey","init","id","type","UUID","primaryKey","email","STRING","password","token","role","status","BOOLEAN","defaultValue","modelName","beforeCreate","user","prototype","checkPassword","_ref","_asyncToGenerator2","_regenerator","mark","_callee","match","wrap","_callee$","_context","prev","next","compare","sent","abrupt","stop","_x"],"sources":["../../../src/database/models/user.js"],"sourcesContent":["/* eslint-disable valid-jsdoc */\n/* eslint-disable require-jsdoc */\nconst bcrypt = require('bcrypt');\nconst { v4: uuidv4 } = require('uuid');\n\nconst {\n  Model\n} = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class User extends Model {\n    static associate(models) {\n      // define association here\n      User.hasMany(models.Product, { foreignKey: 'seller_id' });\n    }\n  }\n  User.init(\n    {\n      id: {\n        type: DataTypes.UUID,\n        primaryKey: true,\n      },\n      email: DataTypes.STRING,\n      password: DataTypes.STRING,\n      token: DataTypes.STRING,\n      role: DataTypes.STRING,\n      status: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: true,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"User\",\n    }\n  );\n\n\n  User.beforeCreate((user) => {\n    user.id = uuidv4();\n  });\n\n  User.prototype.checkPassword = async function (password) {\n    const match = await bcrypt.compare(password, this.password);\n    return match;\n  };\n\n  return User;\n};\n"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChC,IAAAC,QAAA,GAAuBD,OAAO,CAAC,MAAM,CAAC;EAA1BE,MAAM,GAAAD,QAAA,CAAVE,EAAE;AAEV,IAAAC,SAAA,GAEIJ,OAAO,CAAC,WAAW,CAAC;EADtBK,KAAK,GAAAD,SAAA,CAALC,KAAK;AAGPC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,IAAI,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,IAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,IAAA;IAAA,SAAAA,KAAA;MAAA,IAAAK,gBAAA,mBAAAL,IAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,IAAA;MAAAS,GAAA;MAAAC,KAAA,EACR,SAAAC,UAAiBC,MAAM,EAAE;QACvB;QACAZ,IAAI,CAACa,OAAO,CAACD,MAAM,CAACE,OAAO,EAAE;UAAEC,UAAU,EAAE;QAAY,CAAC,CAAC;MAC3D;IAAC;IAAA,OAAAf,IAAA;EAAA,EAJgBL,KAAK;EAMxBK,IAAI,CAACgB,IAAI,CACP;IACEC,EAAE,EAAE;MACFC,IAAI,EAAEnB,SAAS,CAACoB,IAAI;MACpBC,UAAU,EAAE;IACd,CAAC;IACDC,KAAK,EAAEtB,SAAS,CAACuB,MAAM;IACvBC,QAAQ,EAAExB,SAAS,CAACuB,MAAM;IAC1BE,KAAK,EAAEzB,SAAS,CAACuB,MAAM;IACvBG,IAAI,EAAE1B,SAAS,CAACuB,MAAM;IACtBI,MAAM,EAAE;MACNR,IAAI,EAAEnB,SAAS,CAAC4B,OAAO;MACvBC,YAAY,EAAE;IAChB;EACF,CAAC,EACD;IACE9B,SAAS,EAATA,SAAS;IACT+B,SAAS,EAAE;EACb,CAAC,CACF;EAGD7B,IAAI,CAAC8B,YAAY,CAAC,UAACC,IAAI,EAAK;IAC1BA,IAAI,CAACd,EAAE,GAAGzB,MAAM,EAAE;EACpB,CAAC,CAAC;EAEFQ,IAAI,CAACgC,SAAS,CAACC,aAAa;IAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAgBf,QAAQ;MAAA,IAAAgB,KAAA;MAAA,OAAAH,YAAA,YAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACjCvD,MAAM,CAACwD,OAAO,CAACtB,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC;UAAA;YAArDgB,KAAK,GAAAG,QAAA,CAAAI,IAAA;YAAA,OAAAJ,QAAA,CAAAK,MAAA,WACJR,KAAK;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAM,IAAA;QAAA;MAAA,GAAAV,OAAA;IAAA,CACb;IAAA,iBAAAW,EAAA;MAAA,OAAAf,IAAA,CAAA5B,KAAA,OAAAC,SAAA;IAAA;EAAA;EAED,OAAOP,IAAI;AACb,CAAC"}