{"version":3,"file":"user.js","names":["_interopRequireDefault","require","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","bcrypt","_require","uuidv4","v4","_require2","Model","module","exports","sequelize","DataTypes","User","_Model","_super","key","value","associate","models","init","email","STRING","password","modelName","beforeCreate","user","id","checkPassword","_ref","mark","_callee","match","wrap","_callee$","_context","prev","next","compare","sent","abrupt","stop","_x"],"sources":["../../../src/database/models/user.js"],"sourcesContent":["'use strict';\r\n\r\nconst bcrypt = require('bcrypt');\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class User extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  User.init({\r\n    email: DataTypes.STRING,\r\n    password: DataTypes.STRING\r\n  }, {\r\n    sequelize,\r\n    modelName: 'User',\r\n  });\r\n\r\n  User.beforeCreate((user) => {\r\n    user.id = uuidv4();\r\n  });\r\n\r\n  User.prototype.checkPassword = async function (password) {\r\n    const match = await bcrypt.compare(password, this.password);\r\n    return match;\r\n  };\r\n\r\n  return User;\r\n};\r\n"],"mappings":"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"}