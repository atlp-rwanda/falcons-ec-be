{"version":3,"file":"20230315082737-create-products-table.js","names":["User","require","module","exports","up","queryInterface","Sequelize","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","createTable","id","allowNull","autoIncrement","primaryKey","type","UUID","defaultValue","UUIDV4","productName","STRING","validate","notEmpty","description","images","ARRAY","TEXT","price","FLOAT","quantity","INTEGER","expiryDate","DATE","createdAt","updatedAt","seller_id","references","model","key","stop","down","_callee2","_callee2$","_context2","dropTable"],"sources":["../../../src/database/migrations/20230315082737-create-products-table.js"],"sourcesContent":["const User = require('../models/user');\n/** @type {import('sequelize-cli').Migration} */\nmodule.exports = {\n  async up(queryInterface, Sequelize) {\n    await queryInterface.createTable('Products', {\n      id: {\n        allowNull: false,\n        autoIncrement: false,\n        primaryKey: true,\n        type: Sequelize.UUID,\n        defaultValue: Sequelize.UUIDV4,\n      },\n      productName: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true,\n        },\n      },\n\n      description: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true,\n        },\n      },\n      images: {\n        type: Sequelize.ARRAY(Sequelize.TEXT),\n        allowNull: true,\n        validate: {\n          notEmpty: false,\n        },\n      },\n      price: {\n        type: Sequelize.FLOAT,\n        allowNull: false,\n        validate: {\n          notEmpty: true,\n        },\n      },\n      quantity: {\n        type: Sequelize.INTEGER,\n        allowNull: false,\n        validate: {\n          notEmpty: true,\n        },\n      },\n      expiryDate: {\n        type: Sequelize.DATE,\n        allowNull: true,\n        validate: {\n          notEmpty: false,\n        },\n      },\n      createdAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n      updatedAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n      // Add Category_id when the model is created,\n      seller_id: {\n        type: Sequelize.UUID,\n        references: {\n          model: 'Users',\n          key: 'id',\n        },\n      },\n    });\n  },\n\n  async down(queryInterface, Sequelize) {\n    await queryInterface.dropTable('Products');\n  },\n};\n"],"mappings":"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"}