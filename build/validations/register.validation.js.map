{"version":3,"file":"register.validation.js","names":["_joi","_interopRequireDefault","require","_joiPassword","joiPassword","Joi","extend","joiPasswordExtendCore","validateRegister","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","registerSchema","_registerSchema$valid","error","wrap","_callee$","_context","prev","object","keys","firstname","string","min","trim","required","lastname","email","lowercase","phone","password","minOfUppercase","minOfNumeric","validate","body","abrupt","status","json","details","message","replace","stop","_x","_x2","_x3","apply","arguments","_default","exports"],"sources":["../../src/validations/register.validation.js"],"sourcesContent":["import Joi from 'joi';\nimport { joiPasswordExtendCore } from 'joi-password';\n\nconst joiPassword = Joi.extend(joiPasswordExtendCore);\n\nconst validateRegister = async (req, res, next) => {\n  const registerSchema = Joi.object().keys({\n    firstname: Joi.string().min(3).trim().required(),\n    lastname: Joi.string().min(3).trim().required(),\n    email: Joi.string().email().lowercase().trim()\n      .required(),\n    phone: Joi.string().min(10).trim(),\n    password: joiPassword\n      .string()\n      .min(8)\n      .minOfUppercase(1)\n      .minOfNumeric(1)\n      .required()\n      .trim(),\n  });\n\n  const { error } = registerSchema.validate(req.body);\n  if (error) {\n    return res.status(400).json({\n      error: error.details[0].message.replace(/[^a-zA-Z0-9 ]/g, ''),\n    });\n  }\n  next();\n};\n\nexport default validateRegister;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAEA,IAAME,WAAW,GAAGC,eAAG,CAACC,MAAM,CAACC,kCAAqB,CAAC;AAErD,IAAMC,gBAAgB;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,cAAA,EAAAC,qBAAA,EAAAC,KAAA;IAAA,OAAAR,YAAA,YAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAN,IAAA;QAAA;UACtCC,cAAc,GAAGZ,eAAG,CAACmB,MAAM,EAAE,CAACC,IAAI,CAAC;YACvCC,SAAS,EAAErB,eAAG,CAACsB,MAAM,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,EAAE,CAACC,QAAQ,EAAE;YAChDC,QAAQ,EAAE1B,eAAG,CAACsB,MAAM,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,EAAE,CAACC,QAAQ,EAAE;YAC/CE,KAAK,EAAE3B,eAAG,CAACsB,MAAM,EAAE,CAACK,KAAK,EAAE,CAACC,SAAS,EAAE,CAACJ,IAAI,EAAE,CAC3CC,QAAQ,EAAE;YACbI,KAAK,EAAE7B,eAAG,CAACsB,MAAM,EAAE,CAACC,GAAG,CAAC,EAAE,CAAC,CAACC,IAAI,EAAE;YAClCM,QAAQ,EAAE/B,WAAW,CAClBuB,MAAM,EAAE,CACRC,GAAG,CAAC,CAAC,CAAC,CACNQ,cAAc,CAAC,CAAC,CAAC,CACjBC,YAAY,CAAC,CAAC,CAAC,CACfP,QAAQ,EAAE,CACVD,IAAI;UACT,CAAC,CAAC;UAAAX,qBAAA,GAEgBD,cAAc,CAACqB,QAAQ,CAACxB,GAAG,CAACyB,IAAI,CAAC,EAA3CpB,KAAK,GAAAD,qBAAA,CAALC,KAAK;UAAA,KACTA,KAAK;YAAAG,QAAA,CAAAN,IAAA;YAAA;UAAA;UAAA,OAAAM,QAAA,CAAAkB,MAAA,WACAzB,GAAG,CAAC0B,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAC1BvB,KAAK,EAAEA,KAAK,CAACwB,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,OAAO,CAAC,gBAAgB,EAAE,EAAE;UAC9D,CAAC,CAAC;QAAA;UAEJ7B,IAAI,EAAE;QAAC;QAAA;UAAA,OAAAM,QAAA,CAAAwB,IAAA;MAAA;IAAA,GAAAjC,OAAA;EAAA,CACR;EAAA,gBAvBKL,gBAAgBA,CAAAuC,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAxC,IAAA,CAAAyC,KAAA,OAAAC,SAAA;EAAA;AAAA,GAuBrB;AAAC,IAAAC,QAAA,GAEa5C,gBAAgB;AAAA6C,OAAA,cAAAD,QAAA"}