{"version":3,"file":"user.middleware.js","names":["_index","require","checkUserExists","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","email","userInDb","wrap","_callee$","_context","prev","body","User","findOne","where","sent","abrupt","status","json","message","stop","_x","_x2","_x3","apply","arguments","exports"],"sources":["../../src/middlewares/user.middleware.js"],"sourcesContent":["import { User } from '../database/models/index';\n\nexport const checkUserExists = async (req, res, next) => {\n  const { email } = req.body;\n  const userInDb = await User.findOne({\n    where: { email },\n  });\n  if (userInDb) {\n    return res.status(409).json({ message: 'Email already exists' });\n  }\n  next();\n};\n"],"mappings":";;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEO,IAAMC,eAAe;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,KAAA,EAAAC,QAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAL,IAAA;QAAA;UAC1CC,KAAK,GAAKH,GAAG,CAACS,IAAI,CAAlBN,KAAK;UAAAI,QAAA,CAAAL,IAAA;UAAA,OACUQ,WAAI,CAACC,OAAO,CAAC;YAClCC,KAAK,EAAE;cAAET,KAAK,EAALA;YAAM;UACjB,CAAC,CAAC;QAAA;UAFIC,QAAQ,GAAAG,QAAA,CAAAM,IAAA;UAAA,KAGVT,QAAQ;YAAAG,QAAA,CAAAL,IAAA;YAAA;UAAA;UAAA,OAAAK,QAAA,CAAAO,MAAA,WACHb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEC,OAAO,EAAE;UAAuB,CAAC,CAAC;QAAA;UAElEf,IAAI,EAAE;QAAC;QAAA;UAAA,OAAAK,QAAA,CAAAW,IAAA;MAAA;IAAA,GAAAnB,OAAA;EAAA,CACR;EAAA,gBATYL,eAAeA,CAAAyB,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA1B,IAAA,CAAA2B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAS3B;AAACC,OAAA,CAAA9B,eAAA,GAAAA,eAAA"}